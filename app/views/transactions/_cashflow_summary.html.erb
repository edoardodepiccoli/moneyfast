<% 
  processed_transactions = user.transactions.processed
  total_cashflow = processed_transactions.sum(&:amount)
%>

<%= turbo_frame_tag "cashflow_card" do %>
<div class="card bg-base-200 border border-base-300 p-4">
  <div class="card-body p-0">
    <div class="flex flex-row items-baseline gap-2">
      <h2 class="card-title text-base-content">Net Worth</h2>
      <p class="text-sm text-base-content/60">(Total Cashflow)</p>
    </div>
    
    <div>
      <div class="flex items-baseline gap-2">
        <span class="text-3xl font-bold <%= total_cashflow >= 0 ? 'text-success' : 'text-error' %>">
          <%= number_to_currency(total_cashflow, unit: "â‚¬") %>
        </span>
      </div>
    </div>
  </div>
</div>
<% end %>

